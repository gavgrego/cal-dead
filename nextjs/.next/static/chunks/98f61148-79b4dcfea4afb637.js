"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[770],{6827:function(a,b,c){c.d(b,{f:function(){return Ob},lD:function(){return Rb}});var d,e=c(1413),f=c(5987),g=c(1002),h=c(5671),i=c(3144),j=c(136),k=c(3568),l=c(7294),m=c(7150),n=c(6010),o=c(5697),p=c.n(o),q=c(1143),r=c.n(q),s=c(7403),t=c(4942),u=c(4902),v=c(7326),w=c(3935),x=c(3282),y=c(7234),z=c(1981),A=c(1657),B=c(5593),C=c(3201),D=c(576),E=c(4377),F=c(8512),G=c(930),H=c(424),I=c(6299),J=c(7130),K=c(817),L=c(4379),M=c(845),N=c(2577),O=c(5817),P=c(3722),Q=c(3394),R=c(4506),S=c(8544),T=c(4277),U=c(8335),V=c(3688),W=c(9168),X=c(8392);function Y(a){return a.children}var Z={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},$={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},_=Object.keys($).map(function(a){return $[a]});function aa(a,b){a&&a.apply(null,[].concat(b))}p().oneOfType([p().string,p().func]),p().any,p().func,p().oneOfType([p().arrayOf(p().oneOf(_)),p().objectOf(function(a,b){if(-1!==_.indexOf(b)&&"boolean"==typeof a[b])return null;for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return p().elementType.apply(p(),[a,b].concat(d))})]),p().oneOfType([p().oneOf(["overlap","no-overlap"]),p().func]);var ba={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function ca(a,b){var c=s.gl(a,"month");return s.gl(c,"week",b.startOfWeek())}function da(a,b){var c=s.Dz(a,"month");return s.Dz(c,"week",b.startOfWeek())}function ea(a,b){for(var c=ca(a,b),d=da(a,b),e=[];s.G(c,d,"day");)e.push(c),c=s.IH(c,1,"day");return e}function fa(a,b){var c=s.gl(a,b);return s.eq(c,a)?c:s.IH(c,1,b)}function ga(a,b){for(var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"day",d=a,e=[];s.G(d,b,c);)e.push(d),d=s.IH(d,1,c);return e}function ha(a,b){return null==b&&null==a?null:(null==b&&(b=new Date()),null==a&&(a=new Date()),a=s.gl(a,"day"),a=s.i4(a,s.i4(b)),a=s.LK(a,s.LK(b)),a=s.m9(a,s.m9(b)),s.m(a,s.m(b)))}function ia(a){return 0===s.i4(a)&&0===s.LK(a)&&0===s.m9(a)&&0===s.m(a)}function ja(a,b,c){return c&&"milliseconds"!==c?Math.round(Math.abs(+s.gl(a,c)/ba[c]- +s.gl(b,c)/ba[c])):Math.abs(+a- +b)}var ka=p().oneOfType([p().string,p().func]);function la(a,b,c,d,e){var f="function"==typeof d?d(c,e,a):b.call(a,c,d,e);return r()(null==f||"string"==typeof f,"`localizer format(..)` must return a string, null, or undefined"),f}function ma(a,b,c){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,b+c,0,0)}function na(a,b){return a.getTimezoneOffset()-b.getTimezoneOffset()}function oa(a,b){return ja(a,b,"minutes")+na(a,b)}function pa(a){var b=(0,s.gl)(a,"day");return ja(b,a,"minutes")+na(b,a)}function qa(a,b){return(0,s.lt)(a,b,"day")}function ra(a,b,c){return(0,s.eq)(a,b,"minutes")?(0,s.eg)(b,c,"minutes"):(0,s.gt)(b,c,"minutes")}function sa(a){var b=a.evtA,c=b.start,d=b.end,e=b.allDay,f=a.evtB,g=f.start,h=f.end,i=f.allDay,j=+(0,s.gl)(c,"day")- +(0,s.gl)(g,"day"),k=ja(c,fa(d,"day"),"day"),l=ja(g,fa(h,"day"),"day");return j||Math.max(l,1)-Math.max(k,1)|| !!i- !!e|| +c- +g|| +d- +h}function ta(a){var b=a.event,c=b.start,d=b.end,e=a.range,f=e.start,g=e.end,h=(0,s.gl)(c,"day"),i=(0,s.G)(h,g,"day"),j=(0,s.uH)(h,d,"minutes"),k=j?(0,s.gt)(d,f,"minutes"):(0,s.eg)(d,f,"minutes");return i&&k}function ua(a,b){return(0,s.eq)(a,b,"day")}function va(a,b){return ia(a)&&ia(b)}var wa=(0,i.Z)(function a(b){var c=this;(0,h.Z)(this,a),r()("function"==typeof b.format,"date localizer `format(..)` must be a function"),r()("function"==typeof b.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=b.propType||ka,this.formats=b.formats,this.format=function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return la.apply(void 0,[c,b.format].concat(d))},this.startOfWeek=b.firstOfWeek,this.merge=b.merge||ha,this.inRange=b.inRange||s.Z2,this.lt=b.lt||s.lt,this.lte=b.lte||s.G,this.gt=b.gt||s.gt,this.gte=b.gte||s.eg,this.eq=b.eq||s.eq,this.neq=b.neq||s.uH,this.startOf=b.startOf||s.gl,this.endOf=b.endOf||s.Dz,this.add=b.add||s.IH,this.range=b.range||ga,this.diff=b.diff||ja,this.ceil=b.ceil||fa,this.min=b.min||s.VV,this.max=b.max||s.Fp,this.minutes=b.minutes||s.LK,this.firstVisibleDay=b.firstVisibleDay||ca,this.lastVisibleDay=b.lastVisibleDay||da,this.visibleDays=b.visibleDays||ea,this.getSlotDate=b.getSlotDate||ma,this.getTimezoneOffset=b.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=b.getDstOffset||na,this.getTotalMin=b.getTotalMin||oa,this.getMinutesFromMidnight=b.getMinutesFromMidnight||pa,this.continuesPrior=b.continuesPrior||qa,this.continuesAfter=b.continuesAfter||ra,this.sortEvents=b.sortEvents||sa,this.inEventRange=b.inEventRange||ta,this.isSameDate=b.isSameDate||ua,this.startAndEndAreDateOnly=b.startAndEndAreDateOnly||va,this.segmentOffset=b.browserTZOffset?b.browserTZOffset():0}),xa={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(a){return"+".concat(a," more")}},ya=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],za=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){return(0,h.Z)(this,c),b.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var a=this.props,b=a.style,c=a.className,d=a.event,g=a.selected,h=a.isAllDay,i=a.onSelect,j=a.onDoubleClick,k=a.onKeyPress,m=a.localizer,o=a.continuesPrior,p=a.continuesAfter,q=a.accessors,r=a.getters,s=a.children,t=a.components,u=t.event,v=t.eventWrapper,w=a.slotStart,x=a.slotEnd,y=(0,f.Z)(a,ya);delete y.resizable;var z=q.title(d),A=q.tooltip(d),B=q.end(d),C=q.start(d),D=q.allDay(d),E=h||D||m.diff(C,m.ceil(B,"day"),"day")>1,F=r.eventProp(d,C,B,g),G=l.createElement("div",{className:"rbc-event-content",title:A||void 0},u?l.createElement(u,{event:d,continuesPrior:o,continuesAfter:p,title:z,isAllDay:D,localizer:m,slotStart:w,slotEnd:x}):z);return l.createElement(v,Object.assign({},this.props,{type:"date"}),l.createElement("div",Object.assign({},y,{tabIndex:0,style:(0,e.Z)((0,e.Z)({},F.style),b),className:(0,n.Z)("rbc-event",c,F.className,{"rbc-selected":g,"rbc-event-allday":E,"rbc-event-continues-prior":o,"rbc-event-continues-after":p}),onClick:function(a){return i&&i(d,a)},onDoubleClick:function(a){return j&&j(d,a)},onKeyPress:function(a){return k&&k(d,a)}}),"function"==typeof s?s(G):G))}}]),c}(l.Component);function Aa(a,b){return!!a&&null!=b&&(0,D.Z)(a,b)}function Ba(a,b){return(a.right-a.left)/b}function Ca(a,b,c,d){var e=Ba(a,d);return c?d-1-Math.floor((b-a.left)/e):Math.floor((b-a.left)/e)}var Da=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){return(0,h.Z)(this,c),b.apply(this,arguments)}return(0,i.Z)(c,[{key:"componentDidMount",value:function(){var a,b,c=this.props,d=c.popupOffset,e=void 0===d?5:d,f=c.popperRef,g=(0,A.Z)(f.current),h=g.top,i=g.left,j=g.width,k=g.height,l=window.innerHeight+(0,B.Z)(window),m=window.innerWidth+(0,C.Z)(window),n=h+k,o=i+j;(n>l||o>m)&&(n>l&&(a=n-l+(e.y||+e||0)),o>m&&(b=o-m+(e.x||+e||0)),this.setState({topOffset:a,leftOffset:b}))}},{key:"render",value:function(){var a=this,b=this.props,c=b.events,d=b.selected,f=b.getters,g=b.accessors,h=b.components,i=b.onSelect,j=b.onDoubleClick,k=b.onKeyPress,m=b.slotStart,n=b.slotEnd,o=b.localizer,p=b.popperRef,q=this.props.position.width,r=(this.state||{}).topOffset||0,s=(this.state||{}).leftOffset||0;return l.createElement("div",{style:(0,e.Z)((0,e.Z)({},this.props.style),{top:-r,left:-s,minWidth:q+q/2}),className:"rbc-overlay",ref:p},l.createElement("div",{className:"rbc-overlay-header"},o.format(m,"dayHeaderFormat")),c.map(function(b,c){return l.createElement(za,{key:c,type:"popup",localizer:o,event:b,getters:f,onSelect:i,accessors:g,components:h,onDoubleClick:j,onKeyPress:k,continuesPrior:o.lt(g.end(b),m,"day"),continuesAfter:o.gte(g.start(b),n,"day"),slotStart:m,slotEnd:n,selected:Aa(b,d),draggable:!0,onDragStart:function(){return a.props.handleDragStart(b)},onDragEnd:function(){return a.props.show()}})}))}}]),c}(l.Component),Ea=l.forwardRef(function(a,b){return l.createElement(Da,Object.assign({popperRef:b},a))});function Fa(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:document;return(0,J.Z)(c,a,b,{passive:!1})}function Ga(a,b){var c,d,e,f,g;return c=a,e=(d=b).clientX,f=d.clientY,g=document.elementFromPoint(e,f),!!(0,I.Z)(g,".rbc-event",c)}function Ha(a){var b=a;return a.touches&&a.touches.length&&(b=a.touches[0]),{clientX:b.clientX,clientY:b.clientY,pageX:b.pageX,pageY:b.pageY}}var Ia=function(){function a(b){var c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},d=c.global,e=c.longPressThreshold;(0,h.Z)(this,a),this.isDetached=!1,this.container=b,this.globalMouse=!b|| void 0!==d&&d,this.longPressThreshold=void 0===e?250:e,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Fa("touchmove",function(){},window),this._removeKeyDownListener=Fa("keydown",this._keyListener),this._removeKeyUpListener=Fa("keyup",this._keyListener),this._removeDropFromOutsideListener=Fa("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Fa("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,i.Z)(a,[{key:"on",value:function(a,b){var c=this._listeners[a]||(this._listeners[a]=[]);return c.push(b),{remove:function(){var a=c.indexOf(b);-1!==a&&c.splice(a,1)}}}},{key:"emit",value:function(a){for(var b,c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(this._listeners[a]||[]).forEach(function(a){void 0===b&&(b=a.apply(void 0,d))}),b}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(a){var b=this._selectRect;return!!b&&!!this.selecting&&Ka(b,La(a))}},{key:"filter",value:function(a){return this._selectRect&&this.selecting?a.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(a,b){var c=this,d=null,e=null,f=null,g=function(b){d=setTimeout(function(){i(),a(b)},c.longPressThreshold),e=Fa("touchmove",function(){return i()}),f=Fa("touchend",function(){return i()})},h=Fa("touchstart",g),i=function(){d&&clearTimeout(d),e&&e(),f&&f(),d=null,e=null,f=null};return b&&g(b),function(){i(),h()}}},{key:"_addInitialEventListener",value:function(){var a=this,b=Fa("mousedown",function(b){a._removeInitialEventListener(),a._handleInitialEvent(b),a._removeInitialEventListener=Fa("mousedown",a._handleInitialEvent)}),c=Fa("touchstart",function(b){a._removeInitialEventListener(),a._removeInitialEventListener=a._addLongPressListener(a._handleInitialEvent,b)});this._removeInitialEventListener=function(){b(),c()}}},{key:"_dropFromOutsideListener",value:function(a){var b=Ha(a),c=b.pageX,d=b.pageY,e=b.clientX,f=b.clientY;this.emit("dropFromOutside",{x:c,y:d,clientX:e,clientY:f}),a.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(a){var b=Ha(a),c=b.pageX,d=b.pageY,e=b.clientX,f=b.clientY;this.emit("dragOverFromOutside",{x:c,y:d,clientX:e,clientY:f}),a.preventDefault()}},{key:"_handleInitialEvent",value:function(a){if(!this.isDetached){var b,c,d,e,f=Ha(a),g=f.clientX,h=f.clientY,i=f.pageX,j=f.pageY,k=this.container();if(3!==a.which&&2!==a.button&&(c=k,d=g,e=h,!c||(0,H.Z)(c,document.elementFromPoint(d,e)))){if(!this.globalMouse&&k&&!(0,H.Z)(k,a.target)){var l=Ja(0),m=l.top,n=l.left,o=l.bottom,p=l.right;if(!Ka({top:(b=La(k)).top-m,left:b.left-n,bottom:b.bottom+o,right:b.right+p},{top:j,left:i}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(a.type),x:i,y:j,clientX:g,clientY:h}))switch(a.type){case"mousedown":this._removeEndListener=Fa("mouseup",this._handleTerminatingEvent),this._onEscListener=Fa("keydown",this._handleTerminatingEvent),this._removeMoveListener=Fa("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(a),this._removeEndListener=Fa("touchend",this._handleTerminatingEvent),this._removeMoveListener=Fa("touchmove",this._handleMoveEvent);break}}}}},{key:"_handleTerminatingEvent",value:function(a){var b=Ha(a),c=b.pageX,d=b.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._initialEventData){var e=!this.container||(0,H.Z)(this.container(),a.target),f=this._selectRect,g=this.isClick(c,d);if(this._initialEventData=null,"Escape"===a.key)return this.emit("reset");if(!e)return this.emit("reset");if(g&&e)return this._handleClickEvent(a);if(!g)return this.emit("select",f)}}},{key:"_handleClickEvent",value:function(a){var b=Ha(a),c=b.pageX,d=b.pageY,e=b.clientX,f=b.clientY,g=new Date().getTime();return this._lastClickData&&g-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:c,y:d,clientX:e,clientY:f})):(this._lastClickData={timestamp:g},this.emit("click",{x:c,y:d,clientX:e,clientY:f}))}},{key:"_handleMoveEvent",value:function(a){if(null!==this._initialEventData&&!this.isDetached){var b=this._initialEventData,c=b.x,d=b.y,e=Ha(a),f=e.pageX,g=e.pageY,h=Math.abs(c-f),i=Math.abs(d-g),j=Math.min(f,c),k=Math.min(g,d),l=this.selecting;(!this.isClick(f,g)||l||h||i)&&(this.selecting=!0,this._selectRect={top:k,left:j,x:f,y:g,right:j+h,bottom:k+i},l||this.emit("selectStart",this._initialEventData),this.isClick(f,g)||this.emit("selecting",this._selectRect),a.preventDefault())}}},{key:"_keyListener",value:function(a){this.ctrl=a.metaKey||a.ctrlKey}},{key:"isClick",value:function(a,b){var c=this._initialEventData,d=c.x,e=c.y,f=c.isTouch;return!f&&5>=Math.abs(a-d)&&5>=Math.abs(b-e)}}]),a}();function Ja(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0;return"object"!==(0,g.Z)(a)&&(a={top:a,left:a,right:a,bottom:a}),a}function Ka(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:0,d=La(a),e=d.top,f=d.left,g=d.right,h=d.bottom,i=La(b),j=i.top,k=i.left,l=i.right,m=i.bottom;return!((void 0===h?e:h)-c<j||e+c>(void 0===m?j:m)||(void 0===g?f:g)-c<k||f+c>(void 0===l?k:l))}function La(a){if(!a.getBoundingClientRect)return a;var b=a.getBoundingClientRect(),c=b.left+Ma("left"),d=b.top+Ma("top");return{top:d,left:c,right:(a.offsetWidth||0)+c,bottom:(a.offsetHeight||0)+d}}function Ma(a){return"left"===a?window.pageXOffset||document.body.scrollLeft||0:"top"===a?window.pageYOffset||document.body.scrollTop||0:void 0}var Na=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(a,d){var e;return(0,h.Z)(this,c),(e=b.call(this,a,d)).state={selecting:!1},e}return(0,i.Z)(c,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){a.selectable&&!this.props.selectable&&this._selectable(),!a.selectable&&this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,b=a.range,c=a.getNow,d=a.getters,e=a.date,f=a.components.dateCellWrapper,g=a.localizer,h=this.state,i=h.selecting,j=h.startIdx,k=h.endIdx,m=c();return l.createElement("div",{className:"rbc-row-bg"},b.map(function(a,c){var h=d.dayProp(a),o=h.className,p=h.style;return l.createElement(f,{key:c,value:a,range:b},l.createElement("div",{style:p,className:(0,n.Z)("rbc-day-bg",o,i&&c>=j&&c<=k&&"rbc-selected-cell",g.isSameDate(a,m)&&"rbc-today",e&&g.neq(e,a,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,b=(0,w.findDOMNode)(this),c=this._selector=new Ia(this.props.container,{longPressThreshold:this.props.longPressThreshold}),d=function(c,d){if(!Ga((0,w.findDOMNode)(a),c)){var e,f,g,h,i=La(b),j=a.props,k=j.range,l=j.rtl;if(e=i,g=(f=c).x,h=f.y,h>=e.top&&h<=e.bottom&&g>=e.left&&g<=e.right){var m=Ca(i,c.x,l,k.length);a._selectSlot({startIdx:m,endIdx:m,action:d,box:c})}}a._initial={},a.setState({selecting:!1})};c.on("selecting",function(d){var e=a.props,f=e.range,g=e.rtl,h=-1,i=-1;if(a.state.selecting||(aa(a.props.onSelectStart,[d]),a._initial={x:d.x,y:d.y}),c.isSelected(b)){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=La(b),z=(j=a._initial,k=y,l=d,m=f.length,n=g,o=-1,p=-1,q=m-1,r=Ba(k,m),s=Ca(k,l.x,n,m),t=k.top<l.y&&k.bottom>l.y,u=k.top<j.y&&k.bottom>j.y,v=j.y>k.bottom,w=k.top>j.y,x=l.top<k.top&&l.bottom>k.bottom,x&&(o=0,p=q),t&&(w?(o=0,p=s):v&&(o=s,p=q)),u&&(o=p=n?q-Math.floor((j.x-k.left)/r):Math.floor((j.x-k.left)/r),t?s<o?o=s:p=s:j.y<l.y?p=q:o=0),{startIdx:o,endIdx:p});h=z.startIdx,i=z.endIdx}a.setState({selecting:!0,startIdx:h,endIdx:i})}),c.on("beforeSelect",function(b){if("ignoreEvents"===a.props.selectable)return!Ga((0,w.findDOMNode)(a),b)}),c.on("click",function(a){return d(a,"click")}),c.on("doubleClick",function(a){return d(a,"doubleClick")}),c.on("select",function(b){a._selectSlot((0,e.Z)((0,e.Z)({},a.state),{},{action:"select",bounds:b})),a._initial={},a.setState({selecting:!1}),aa(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var b=a.endIdx,c=a.startIdx,d=a.action,e=a.bounds,f=a.box;-1!==b&& -1!==c&&this.props.onSelectSlot&&this.props.onSelectSlot({start:c,end:b,action:d,bounds:e,box:f,resourceId:this.props.resourceId})}}]),c}(l.Component),Oa={propTypes:{slotMetrics:p().object.isRequired,selected:p().object,isAllDay:p().bool,accessors:p().object.isRequired,localizer:p().object.isRequired,components:p().object.isRequired,getters:p().object.isRequired,onSelect:p().func,onDoubleClick:p().func,onKeyPress:p().func},defaultProps:{segments:[],selected:{}},renderEvent:function(a,b){var c=a.selected;a.isAllDay;var d=a.accessors,e=a.getters,f=a.onSelect,g=a.onDoubleClick,h=a.onKeyPress,i=a.localizer,j=a.slotMetrics,k=a.components,m=a.resizable,n=j.continuesPrior(b),o=j.continuesAfter(b);return l.createElement(za,{event:b,getters:e,localizer:i,accessors:d,components:k,onSelect:f,onDoubleClick:g,onKeyPress:h,continuesPrior:n,continuesAfter:o,slotStart:j.first,slotEnd:j.last,selected:Aa(b,c),resizable:m})},renderSpan:function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]?arguments[3]:" ",e=Math.abs(b)/a*100+"%";return l.createElement("div",{key:c,className:"rbc-row-segment",style:{WebkitFlexBasis:e,flexBasis:e,maxWidth:e}},d)}},Pa=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){return(0,h.Z)(this,c),b.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var a=this,b=this.props,c=b.segments,d=b.slotMetrics.slots,e=b.className,f=1;return l.createElement("div",{className:(0,n.Z)(e,"rbc-row")},c.reduce(function(b,c,e){var g=c.event,h=c.left,i=c.right,j=c.span,k="_lvl_"+e,l=h-f,m=Oa.renderEvent(a.props,g);return l&&b.push(Oa.renderSpan(d,l,"".concat(k,"_gap"))),b.push(Oa.renderSpan(d,j,k,m)),f=i+1,b},[]))}}]),c}(l.Component);function Qa(a){var b=a.dateRange,c=a.unit,d=a.localizer;return{first:b[0],last:d.add(b[b.length-1],1,void 0===c?"day":c)}}function Ra(a){var b,c,d,e=arguments.length>1&& void 0!==arguments[1]?arguments[1]:1/0,f=[],g=[];for(b=0;b<a.length;b++){for(c=0,d=a[b];c<f.length&&Ta(d,f[c]);c++);c>=e?g.push(d):(f[c]||(f[c]=[])).push(d)}for(b=0;b<f.length;b++)f[b].sort(function(a,b){return a.left-b.left});return{levels:f,extra:g}}function Sa(a,b,c,d,e){var f={start:d.start(a),end:d.end(a)};return e.inEventRange({event:f,range:{start:b,end:c}})}function Ta(a,b){return b.some(function(b){return b.left<=a.right&&b.right>=a.left})}function Ua(a,b,c,d){var e={start:c.start(a),end:c.end(a),allDay:c.allDay(a)},f={start:c.start(b),end:c.end(b),allDay:c.allDay(b)};return d.sortEvents({evtA:e,evtB:f})}Pa.defaultProps=(0,e.Z)({},Oa.defaultProps);var Va=function(a,b){return a.left<=b&&a.right>=b},Wa=function(a,b){return a.filter(function(a){return Va(a,b)}).length},Xa=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){return(0,h.Z)(this,c),b.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){for(var a=this.props,b=a.segments,c=a.slotMetrics.slots,d=Ra(b).levels[0],e=1,f=1,g=[];e<=c;){var h="_lvl_"+e,i=d.filter(function(a){return Va(a,e)})[0]||{},j=i.event,k=i.left,m=i.right,n=i.span;if(!j){e++;continue}var o=Math.max(0,k-f);if(this.canRenderSlotEvent(k,n)){var p=Oa.renderEvent(this.props,j);o&&g.push(Oa.renderSpan(c,o,h+"_gap")),g.push(Oa.renderSpan(c,n,h,p)),f=e=m+1}else o&&g.push(Oa.renderSpan(c,o,h+"_gap")),g.push(Oa.renderSpan(c,1,h,this.renderShowMore(b,e))),f=e+=1}return l.createElement("div",{className:"rbc-row"},g)}},{key:"canRenderSlotEvent",value:function(a,b){var c=this.props.segments;return(0,L.Z)(a,a+b).every(function(a){return 1===Wa(c,a)})}},{key:"renderShowMore",value:function(a,b){var c=this,d=this.props.localizer,e=Wa(a,b);return!!e&&l.createElement("button",{type:"button",key:"sm_"+b,className:(0,n.Z)("rbc-button-link","rbc-show-more"),onClick:function(a){return c.showMore(b,a)}},d.messages.showMore(e))}},{key:"showMore",value:function(a,b){b.preventDefault(),b.stopPropagation(),this.props.onShowMore(a,b.target)}}]),c}(l.Component);Xa.defaultProps=(0,e.Z)({},Oa.defaultProps);var Ya=function(a){var b=a.children;return l.createElement("div",{className:"rbc-row-content-scroll-container"},b)},Za=function(a,b){return a[0].range===b[0].range&&a[0].events===b[0].events};function $a(){return(0,M.Z)(function(a){for(var b=a.range,c=a.events,d=a.maxRows,f=a.minRows,g=a.accessors,h=a.localizer,i=Qa({dateRange:b,localizer:h}),j=i.first,k=i.last,l=c.map(function(a){var c,d,e,f,i,j,k,l,m,n,o,p;return c=a,d=b,e=g,j=(i=Qa({dateRange:d,localizer:f=h})).first,k=i.last,l=f.diff(j,k,"day"),m=f.max(f.startOf(e.start(c),"day"),j),n=f.min(f.ceil(e.end(c),"day"),k),o=(0,K.Z)(d,function(a){return f.isSameDate(a,m)}),p=f.diff(m,n,"day"),p=Math.min(p,l),p=Math.max(p-f.segmentOffset,1),{event:c,span:p,left:o+1,right:Math.max(o+p,1)}}),m=Ra(l,Math.max(d-1,1)),n=m.levels,o=m.extra;n.length<f;)n.push([]);return{first:j,last:k,levels:n,extra:o,range:b,slots:b.length,clone:function(b){return $a()((0,e.Z)((0,e.Z)({},a),b))},getDateForSlot:function(a){return b[a]},getSlotForDate:function(a){return b.find(function(b){return h.isSameDate(b,a)})},getEventsForSlot:function(a){return l.filter(function(b){var c,d;return c=b,d=a,c.left<=d&&c.right>=d}).map(function(a){return a.event})},continuesPrior:function(a){return h.continuesPrior(g.start(a),j)},continuesAfter:function(a){var b=g.start(a),c=g.end(a);return h.continuesAfter(b,c,k)}}},Za)}var _a=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){var a;(0,h.Z)(this,c);for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b.call.apply(b,[this].concat(e))).handleSelectSlot=function(b){var c=a.props,d=c.range,e=c.onSelectSlot;e(d.slice(b.start,b.end+1),b)},a.handleShowMore=function(b,c){var d,e=a.props,f=e.range,g=e.onShowMore,h=a.slotMetrics(a.props),i=(0,G.Z)((0,w.findDOMNode)((0,v.Z)(a)),".rbc-row-bg")[0];i&&(d=i.children[b-1]);var j=h.getEventsForSlot(b);g(j,f[b-1],d,b,c)},a.createHeadingRef=function(b){a.headingRow=b},a.createEventRef=function(b){a.eventRow=b},a.getContainer=function(){var b=a.props.container;return b?b():(0,w.findDOMNode)((0,v.Z)(a))},a.renderHeadingCell=function(b,c){var d=a.props,e=d.renderHeader,f=d.getNow,g=d.localizer;return e({date:b,key:"header_".concat(c),className:(0,n.Z)("rbc-date-cell",g.isSameDate(b,f())&&"rbc-now")})},a.renderDummy=function(){var b=a.props,c=b.className,d=b.range,e=b.renderHeader,f=b.showAllEvents;return l.createElement("div",{className:c},l.createElement("div",{className:(0,n.Z)("rbc-row-content",f&&"rbc-row-content-scrollable")},e&&l.createElement("div",{className:"rbc-row",ref:a.createHeadingRef},d.map(a.renderHeadingCell)),l.createElement("div",{className:"rbc-row",ref:a.createEventRef},l.createElement("div",{className:"rbc-row-segment"},l.createElement("div",{className:"rbc-event"},l.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},a.slotMetrics=$a(),a}return(0,i.Z)(c,[{key:"getRowLimit",value:function(){var a=(0,F.Z)(this.eventRow),b=this.headingRow?(0,F.Z)(this.headingRow):0,c=(0,F.Z)((0,w.findDOMNode)(this))-b;return Math.max(Math.floor(c/a),1)}},{key:"render",value:function(){var a=this.props,b=a.date,c=a.rtl,d=a.range,e=a.className,f=a.selected,g=a.selectable,h=a.renderForMeasure,i=a.accessors,j=a.getters,k=a.components,m=a.getNow,o=a.renderHeader,p=a.onSelect,q=a.localizer,r=a.onSelectStart,s=a.onSelectEnd,t=a.onDoubleClick,u=a.onKeyPress,v=a.resourceId,w=a.longPressThreshold,x=a.isAllDay,y=a.resizable,z=a.showAllEvents;if(h)return this.renderDummy();var A=this.slotMetrics(this.props),B=A.levels,C=A.extra,D=z?Ya:Y,E=k.weekWrapper,F={selected:f,accessors:i,getters:j,localizer:q,components:k,onSelect:p,onDoubleClick:t,onKeyPress:u,resourceId:v,slotMetrics:A,resizable:y};return l.createElement("div",{className:e,role:"rowgroup"},l.createElement(Na,{localizer:q,date:b,getNow:m,rtl:c,range:d,selectable:g,container:this.getContainer,getters:j,onSelectStart:r,onSelectEnd:s,onSelectSlot:this.handleSelectSlot,components:k,longPressThreshold:w,resourceId:v}),l.createElement("div",{className:(0,n.Z)("rbc-row-content",z&&"rbc-row-content-scrollable"),role:"row"},o&&l.createElement("div",{className:"rbc-row ",ref:this.createHeadingRef},d.map(this.renderHeadingCell)),l.createElement(D,null,l.createElement(E,Object.assign({isAllDay:x},F),B.map(function(a,b){return l.createElement(Pa,Object.assign({key:b,segments:a},F))}),!!C.length&&l.createElement(Xa,Object.assign({segments:C,onShowMore:this.handleShowMore},F))))))}}]),c}(l.Component);_a.defaultProps={minRows:0,maxRows:1/0};var ab=function(a){var b=a.label;return l.createElement("span",{role:"columnheader","aria-sort":"none"},b)},bb=function(a){var b=a.label,c=a.drilldownView,d=a.onDrillDown;return c?l.createElement("button",{type:"button",className:"rbc-button-link",onClick:d,role:"cell"},b):l.createElement("span",null,b)},cb=["date","className"],db=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){var a;(0,h.Z)(this,c);for(var d=arguments.length,e=new Array(d),g=0;g<d;g++)e[g]=arguments[g];return(a=b.call.apply(b,[this].concat(e))).getContainer=function(){return(0,w.findDOMNode)((0,v.Z)(a))},a.renderWeek=function(b,c){var d,e,f,g,h,i=a.props,j=i.events,k=i.components,m=i.selectable,n=i.getNow,o=i.selected,p=i.date,q=i.localizer,r=i.longPressThreshold,s=i.accessors,t=i.getters,v=i.showAllEvents,w=a.state,x=w.needLimitMeasure,y=w.rowLimit,z=(d=(0,u.Z)(j),e=b[0],f=b[b.length-1],g=s,h=q,d.filter(function(a){return Sa(a,e,f,g,h)}));return z.sort(function(a,b){return Ua(a,b,s,q)}),l.createElement(_a,{key:c,ref:0===c?a.slotRowRef:void 0,container:a.getContainer,className:"rbc-month-row",getNow:n,date:p,range:b,events:z,maxRows:v?1/0:y,selected:o,selectable:m,components:k,accessors:s,getters:t,localizer:q,renderHeader:a.readerDateHeading,renderForMeasure:x,onShowMore:a.handleShowMore,onSelect:a.handleSelectEvent,onDoubleClick:a.handleDoubleClickEvent,onKeyPress:a.handleKeyPressEvent,onSelectSlot:a.handleSelectSlot,longPressThreshold:r,rtl:a.props.rtl,resizable:a.props.resizable,showAllEvents:v})},a.readerDateHeading=function(b){var c=b.date,d=b.className,e=(0,f.Z)(b,cb),g=a.props,h=g.date,i=g.getDrilldownView,j=g.localizer,k=j.neq(c,h,"month"),m=j.isSameDate(c,h),o=i(c),p=j.format(c,"dateFormat"),q=a.props.components.dateHeader||bb;return l.createElement("div",Object.assign({},e,{className:(0,n.Z)(d,k&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),l.createElement(q,{label:p,date:c,drilldownView:o,isOffRange:k,onDrillDown:function(b){return a.handleHeadingClick(c,o,b)}}))},a.handleSelectSlot=function(b,c){a._pendingSelection=a._pendingSelection.concat(b),clearTimeout(a._selectTimer),a._selectTimer=setTimeout(function(){return a.selectDates(c)})},a.handleHeadingClick=function(b,c,d){d.preventDefault(),a.clearSelection(),aa(a.props.onDrillDown,[b,c])},a.handleSelectEvent=function(){a.clearSelection();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onSelectEvent,c)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onDoubleClickEvent,c)},a.handleKeyPressEvent=function(){a.clearSelection();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onKeyPressEvent,c)},a.handleShowMore=function(b,c,d,e,f){var g=a.props,h=g.popup,i=g.onDrillDown,j=g.onShowMore,k=g.getDrilldownView,l=g.doShowMoreDrillDown;if(a.clearSelection(),h){var m=(0,y.Z)(d,(0,w.findDOMNode)((0,v.Z)(a)));a.setState({overlay:{date:c,events:b,position:m,target:f}})}else l&&aa(i,[c,k(c)||$.DAY]);aa(j,[b,c,e])},a.overlayDisplay=function(){a.setState({overlay:null})},a._bgRows=[],a._pendingSelection=[],a.slotRowRef=l.createRef(),a.state={rowLimit:5,needLimitMeasure:!0},a}return(0,i.Z)(c,[{key:"UNSAFE_componentWillReceiveProps",value:function(a){var b=a.date,c=this.props,d=c.date,e=c.localizer;this.setState({needLimitMeasure:e.neq(b,d,"month")})}},{key:"componentDidMount",value:function(){var a,b=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||z.W(function(){a=!1,b.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,b=a.date,c=a.localizer,d=a.className,e=c.visibleDays(b,c),f=(0,x.Z)(e,7);return this._weekCount=f.length,l.createElement("div",{className:(0,n.Z)("rbc-month-view",d),role:"table","aria-label":"Month View"},l.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(f[0])),f.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var b=this.props,c=b.localizer,d=b.components,e=a[0],f=a[a.length-1],g=d.header||ab;return c.range(e,f,"day").map(function(a,b){return l.createElement("div",{key:"header_"+b,className:"rbc-header"},l.createElement(g,{date:a,localizer:c,label:c.format(a,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a=this,b=this.state&&this.state.overlay||{},c=this.props,d=c.accessors,e=c.localizer,f=c.components,g=c.getters,h=c.selected,i=c.popupOffset;return l.createElement(E.Z,{rootClose:!0,placement:"bottom",show:!!b.position,onHide:function(){return a.setState({overlay:null})},target:function(){return b.target}},function(c){var j=c.props;return l.createElement(Ea,Object.assign({},j,{popupOffset:i,accessors:d,getters:g,selected:h,components:f,localizer:e,position:b.position,show:a.overlayDisplay,events:b.events,slotStart:b.date,slotEnd:b.end,onSelect:a.handleSelectEvent,onDoubleClick:a.handleDoubleClickEvent,onKeyPress:a.handleKeyPressEvent,handleDragStart:a.props.handleDragStart}))})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var b=this._pendingSelection.slice();this._pendingSelection=[],b.sort(function(a,b){return+a- +b});var c=new Date(b[0]),d=new Date(b[b.length-1]);d.setDate(b[b.length-1].getDate()+1),aa(this.props.onSelectSlot,{slots:b,start:c,end:d,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}]),c}(l.Component);db.range=function(a,b){var c=b.localizer,d=c.firstVisibleDay(a,c),e=c.lastVisibleDay(a,c);return{start:d,end:e}},db.navigate=function(a,b,c){var d=c.localizer;switch(b){case Z.PREVIOUS:return d.add(a,-1,"month");case Z.NEXT:return d.add(a,1,"month");default:return a}},db.title=function(a,b){return b.localizer.format(a,"monthHeaderFormat")};var eb=function(a){var b=a.min,c=a.max,d=a.step,e=a.slots,f=a.localizer;return"".concat(+f.startOf(b,"minutes"))+"".concat(+f.startOf(c,"minutes"))+"".concat(d,"-").concat(e)};function fb(a){for(var b=a.min,c=a.max,d=a.step,e=a.timeslots,f=a.localizer,g=eb({start:b,end:c,step:d,timeslots:e,localizer:f}),h=1+f.getTotalMin(b,c),i=f.getMinutesFromMidnight(b),j=Math.ceil((h-1)/(d*e)),k=j*e,l=new Array(j),m=new Array(k),n=0;n<j;n++){l[n]=new Array(e);for(var o=0;o<e;o++){var p=n*e+o,q=p*d;m[p]=l[n][o]=f.getSlotDate(b,i,q)}}var r=m.length*d;function s(a){return Math.min(f.diff(b,a,"minutes")+f.getDstOffset(b,a),h)}return m.push(f.getSlotDate(b,i,r)),{groups:l,update:function(a){return eb(a)!==g?fb(a):this},dateIsInGroup:function(a,b){var d=l[b+1];return f.inRange(a,l[b][0],d?d[0]:c,"minutes")},nextSlot:function(a){var b=m[Math.min(m.indexOf(a)+1,m.length-1)];return b===a&&(b=f.add(a,d,"minutes")),b},closestSlotToPosition:function(a){var b=Math.min(m.length-1,Math.max(0,Math.floor(a*k)));return m[b]},closestSlotFromPoint:function(a,b){var c=Math.abs(b.top-b.bottom);return this.closestSlotToPosition((a.y-b.top)/c)},closestSlotFromDate:function(a){var e=arguments.length>1&& void 0!==arguments[1]?arguments[1]:0;if(f.lt(a,b,"minutes"))return m[0];if(f.gt(a,c,"minutes"))return m[m.length-1];var g=f.diff(b,a,"minutes");return m[(g-g%d)/d+e]},startsBeforeDay:function(a){return f.lt(a,b,"day")},startsAfterDay:function(a){return f.gt(a,c,"day")},startsBefore:function(a){return f.lt(f.merge(b,a),b,"minutes")},startsAfter:function(a){return f.gt(f.merge(c,a),c,"minutes")},getRange:function(a,e,g,h){g||(a=f.min(c,f.max(b,a))),h||(e=f.min(c,f.max(b,e)));var i=s(a),j=s(e),l=j>d*k&&!f.eq(c,e)?(i-d)/(d*k)*100:i/(d*k)*100;return{top:l,height:j/(d*k)*100-l,start:s(a),startDate:a,end:s(e),endDate:e}},getCurrentTimePosition:function(a){return s(a)/(d*k)*100}}}var gb=function(){function a(b,c){var d=c.accessors,e=c.slotMetrics;(0,h.Z)(this,a);var f=e.getRange(d.start(b),d.end(b)),g=f.start,i=f.startDate,j=f.end,k=f.endDate,l=f.top,m=f.height;this.start=g,this.end=j,this.startMs=+i,this.endMs=+k,this.top=l,this.height=m,this.data=b}return(0,i.Z)(a,[{key:"_width",get:function(){if(this.rows)return 100/(this.rows.reduce(function(a,b){return Math.max(a,b.leaves.length+1)},0)+1);var a=100-this.container._width;return this.leaves?a/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var a=this._width,b=Math.min(100,1.7*this._width);if(this.rows)return b;if(this.leaves)return this.leaves.length>0?b:a;var c=this.row.leaves;return c.indexOf(this)===c.length-1?a:b}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var a=this.row,b=a.leaves,c=a.xOffset,d=a._width,e=b.indexOf(this)+1;return c+e*d}}]),a}();function hb(a,b,c){return Math.abs(b.start-a.start)<c||b.start>a.start&&b.start<a.end}function ib(a){for(var b=a.events,c=a.minimumStartDifference,d=a.slotMetrics,e=a.accessors,f=b.map(function(a){return new gb(a,{slotMetrics:d,accessors:e})}),g=function(a){for(var b=(0,O.Z)(a,["startMs",function(a){return-a.endMs}]),c=[];b.length>0;){var d=b.shift();c.push(d);for(var e=0;e<b.length;e++){var f=b[e];if(!(d.endMs>f.startMs)){if(e>0){var g=b.splice(e,1)[0];c.push(g)}break}}}return c}(f),h=[],i=0;i<g.length;i++)if("continue"===(function(a){var b=g[a],d=h.find(function(a){return a.end>b.start||Math.abs(b.start-a.start)<c});if(!d)return b.rows=[],h.push(b),"continue";b.container=d;for(var e=null,f=d.rows.length-1;!e&&f>=0;f--)hb(d.rows[f],b,c)&&(e=d.rows[f]);e?(e.leaves.push(b),b.row=e):(b.leaves=[],d.rows.push(b))})(i))continue;return g.map(function(a){return{event:a.data,style:{top:a.top,height:a.height,width:a.width,xOffset:Math.max(0,a.xOffset)}}})}function jb(a,b,c){for(var d=0;d<a.friends.length;++d)if(!(c.indexOf(a.friends[d])> -1)){b=b>a.friends[d].idx?b:a.friends[d].idx,c.push(a.friends[d]);var e=jb(a.friends[d],b,c);b=b>e?b:e}return b}var kb={overlap:ib,"no-overlap":function(a){var b=a.events,c=a.minimumStartDifference,d=a.slotMetrics,e=a.accessors,f=ib({events:b,minimumStartDifference:c,slotMetrics:d,accessors:e});f.sort(function(a,b){return(a=a.style,b=b.style,a.top!==b.top)?a.top>b.top?1:-1:a.top+a.height<b.top+b.height?1:-1});for(var g=0;g<f.length;++g)f[g].friends=[],delete f[g].style.left,delete f[g].style.left,delete f[g].idx,delete f[g].size;for(var h=0;h<f.length-1;++h)for(var i=f[h],j=i.style.top,k=i.style.top+i.style.height,l=h+1;l<f.length;++l){var m=f[l],n=m.style.top,o=m.style.top+m.style.height;(n<=j&&j<o||j<=n&&n<k)&&(i.friends.push(m),m.friends.push(i))}for(var p=0;p<f.length;++p){for(var q=f[p],r=[],s=0;s<100;++s)r.push(1);for(var t=0;t<q.friends.length;++t)void 0!==q.friends[t].idx&&(r[q.friends[t].idx]=0);q.idx=r.indexOf(1)}for(var u=0;u<f.length;++u){var v=0;if(!f[u].size){var w=[];v=100/(jb(f[u],0,w)+1),f[u].size=v;for(var x=0;x<w.length;++x)w[x].size=v}}for(var y=0;y<f.length;++y){var z=f[y];z.style.left=z.idx*z.size;for(var A=0,B=0;B<z.friends.length;++B){var C=z.friends[B].idx;A=A>C?A:C}A<=z.idx&&(z.size=100-z.idx*z.size);var D=0===z.idx?0:3;z.style.width="calc(".concat(z.size,"% - ").concat(D,"px)"),z.style.height="calc(".concat(z.style.height,"% - 2px)"),z.style.xOffset="calc(".concat(z.style.left,"% + ").concat(D,"px)")}return f}},lb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){return(0,h.Z)(this,c),b.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var a=this.props,b=a.renderSlot,c=a.resource,d=a.group,e=a.getters,f=a.components;f=void 0===f?{}:f;var g=f.timeSlotWrapper,h=void 0===g?Y:g,i=e?e.slotGroupProp():{};return l.createElement("div",Object.assign({className:"rbc-timeslot-group"},i),d.map(function(a,d){var f=e?e.slotProp(a,c):{};return l.createElement(h,{key:d,value:a,resource:c},l.createElement("div",Object.assign({},f,{className:(0,n.Z)("rbc-time-slot",f.className)}),b&&b(a,d)))}))}}]),c}(l.Component);function mb(a){return"string"==typeof a?a:a+"%"}function nb(a){var b=a.style,c=a.className,d=a.event,f=a.accessors,g=a.rtl,h=a.selected,i=a.label,j=a.continuesPrior,k=a.continuesAfter,m=a.getters,o=a.onClick,p=a.onDoubleClick,q=a.isBackgroundEvent,r=a.onKeyPress,s=a.components,u=s.event,v=s.eventWrapper,w=f.title(d),x=f.tooltip(d),y=f.end(d),z=f.start(d),A=m.eventProp(d,z,y,h),B=b.height,C=b.top,D=b.width,E=b.xOffset,F=[l.createElement("div",{key:"1",className:"rbc-event-label"},i),l.createElement("div",{key:"2",className:"rbc-event-content"},u?l.createElement(u,{event:d,title:w}):w)],G=q?(0,e.Z)((0,e.Z)({},A.style),{},(0,t.Z)({top:mb(C),height:mb(B),width:"calc(".concat(D," + 10px)")},g?"right":"left",mb(Math.max(0,E)))):(0,e.Z)((0,e.Z)({},A.style),{},(0,t.Z)({top:mb(C),width:mb(D),height:mb(B)},g?"right":"left",mb(E)));return l.createElement(v,Object.assign({type:"time"},a),l.createElement("div",{onClick:o,onDoubleClick:p,style:G,onKeyPress:r,title:x?("string"==typeof i?i+": ":"")+x:void 0,className:(0,n.Z)(q?"rbc-background-event":"rbc-event",c,A.className,{"rbc-selected":h,"rbc-event-continues-earlier":j,"rbc-event-continues-later":k})},F))}var ob=function(a){var b=a.children,c=a.className,d=a.style;return l.createElement("div",{className:c,style:d},b)},pb=["dayProp"],qb=["eventContainerWrapper"],rb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){var a;(0,h.Z)(this,c);for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return(a=b.call.apply(b,[this].concat(f))).state={selecting:!1,timeIndicatorPosition:null},a.intervalTriggered=!1,a.renderEvents=function(b){var c=b.events,d=b.isBackgroundEvent,e=a.props,f=e.rtl,g=e.selected,h=e.accessors,i=e.localizer,j=e.getters,k=e.components,m=e.step,n=e.timeslots,o=e.dayLayoutAlgorithm,p=e.resizable,q=(0,v.Z)(a),r=q.slotMetrics,s=i.messages,t=function(a){a.events,a.minimumStartDifference,a.slotMetrics,a.accessors;var b,c=a.dayLayoutAlgorithm,d=c;return(c in kb&&(d=kb[c]),(b=d)&&b.constructor&&b.call&&b.apply)?d.apply(this,arguments):[]}({events:c,accessors:h,slotMetrics:r,minimumStartDifference:Math.ceil(m*n/2),dayLayoutAlgorithm:o});return t.map(function(b,c){var e,m=b.event,n=b.style,o=h.end(m),q=h.start(m),t="eventTimeRangeFormat",u=r.startsBeforeDay(q),v=r.startsAfterDay(o);u?t="eventTimeRangeEndFormat":v&&(t="eventTimeRangeStartFormat"),e=u&&v?s.allDay:i.format({start:q,end:o},t);var w=u||r.startsBefore(q),x=v||r.startsAfter(o);return l.createElement(nb,{style:n,event:m,label:e,key:"evt_"+c,getters:j,rtl:f,components:k,continuesPrior:w,continuesAfter:x,accessors:h,selected:Aa(m,g),onClick:function(b){return a._select(m,b)},onDoubleClick:function(b){return a._doubleClick(m,b)},isBackgroundEvent:d,onKeyPress:function(b){return a._keyPress(m,b)},resizable:p})})},a._selectable=function(){var b=(0,w.findDOMNode)((0,v.Z)(a)),c=a.props,d=c.longPressThreshold,f=c.localizer,g=a._selector=new Ia(function(){return(0,w.findDOMNode)((0,v.Z)(a))},{longPressThreshold:d}),h=function(b){var c=a.props.onSelecting,d=a.state||{},e=i(b),g=e.startDate,h=e.endDate;c&&(f.eq(d.startDate,g,"minutes")&&f.eq(d.endDate,h,"minutes")|| !1===c({start:g,end:h,resourceId:a.props.resource}))||(a.state.start!==e.start||a.state.end!==e.end||a.state.selecting!==e.selecting)&&a.setState(e)},i=function(c){var d=a.slotMetrics.closestSlotFromPoint(c,La(b));a.state.selecting||(a._initialSlot=d);var g=a._initialSlot;f.lte(g,d)?d=a.slotMetrics.nextSlot(d):f.gt(g,d)&&(g=a.slotMetrics.nextSlot(g));var h=a.slotMetrics.getRange(f.min(g,d),f.max(g,d));return(0,e.Z)((0,e.Z)({},h),{},{selecting:!0,top:"".concat(h.top,"%"),height:"".concat(h.height,"%")})},j=function(b,c){if(!Ga((0,w.findDOMNode)((0,v.Z)(a)),b)){var d=i(b),e=d.startDate,f=d.endDate;a._selectSlot({startDate:e,endDate:f,action:c,box:b})}a.setState({selecting:!1})};g.on("selecting",h),g.on("selectStart",h),g.on("beforeSelect",function(b){if("ignoreEvents"===a.props.selectable)return!Ga((0,w.findDOMNode)((0,v.Z)(a)),b)}),g.on("click",function(a){return j(a,"click")}),g.on("doubleClick",function(a){return j(a,"doubleClick")}),g.on("select",function(b){a.state.selecting&&(a._selectSlot((0,e.Z)((0,e.Z)({},a.state),{},{action:"select",bounds:b})),a.setState({selecting:!1}))}),g.on("reset",function(){a.state.selecting&&a.setState({selecting:!1})})},a._teardownSelectable=function(){a._selector&&(a._selector.teardown(),a._selector=null)},a._selectSlot=function(b){for(var c=b.startDate,d=b.endDate,e=b.action,f=b.bounds,g=b.box,h=c,i=[];a.props.localizer.lte(h,d);)i.push(h),h=new Date(+h+6e4*a.props.step);aa(a.props.onSelectSlot,{slots:i,start:c,end:d,resourceId:a.props.resource,action:e,bounds:f,box:g})},a._select=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onSelectEvent,c)},a._doubleClick=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onDoubleClickEvent,c)},a._keyPress=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onKeyPressEvent,c)},a.slotMetrics=fb(a.props),a}return(0,i.Z)(c,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){a.selectable&&!this.props.selectable&&this._selectable(),!a.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(a)}},{key:"componentDidUpdate",value:function(a,b){var c=this.props,d=c.getNow,e=c.isNow,f=c.localizer,g=c.date,h=c.min,i=c.max,j=f.neq(a.getNow(),d(),"minutes");if(a.isNow!==e||j){if(this.clearTimeIndicatorInterval(),e){var k=!j&&f.eq(a.date,g,"minutes")&&b.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(k)}}else e&&(f.neq(a.min,h,"minutes")||f.neq(a.max,i,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,b=arguments.length>0&& void 0!==arguments[0]&&arguments[0];this.intervalTriggered||b||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,b=a.min,c=a.max,d=a.getNow,e=d();if(e>=b&&e<=c){var f=this.slotMetrics.getCurrentTimePosition(e);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:f})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,b=a.date,c=a.max,d=a.rtl,e=a.isNow,g=a.resource,h=a.accessors,i=a.localizer,j=a.getters,k=j.dayProp,m=(0,f.Z)(j,pb),o=a.components,p=o.eventContainerWrapper,q=(0,f.Z)(o,qb),r=this.slotMetrics,s=this.state,t=s.selecting,u=s.top,v=s.height,w=s.startDate,x=s.endDate,y=k(c),z=y.className,A=y.style,B=q.dayColumnWrapper||ob;return l.createElement(B,{date:b,style:A,className:(0,n.Z)(z,"rbc-day-slot","rbc-time-column",e&&"rbc-now",e&&"rbc-today",t&&"rbc-slot-selecting"),slotMetrics:r},r.groups.map(function(a,b){return l.createElement(lb,{key:b,group:a,resource:g,getters:m,components:q})}),l.createElement(p,{localizer:i,resource:g,accessors:h,getters:m,components:q,slotMetrics:r},l.createElement("div",{className:(0,n.Z)("rbc-events-container",d&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),t&&l.createElement("div",{className:"rbc-slot-selection",style:{top:u,height:v}},l.createElement("span",null,i.format({start:w,end:x},"selectRangeFormat"))),e&&this.intervalTriggered&&l.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),c}(l.Component);function sb(a){var b=a.min,c=a.max,d=a.localizer;return d.getTimezoneOffset(b)!==d.getTimezoneOffset(c)?{start:d.add(b,-1,"day"),end:d.add(c,-1,"day")}:{start:b,end:c}}rb.defaultProps={dragThroughEvents:!0,timeslots:2};var tb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){(0,h.Z)(this,c);for(var a,d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];(a=b.call.apply(b,[this].concat(e))).renderSlot=function(b,c){if(0!==c)return null;var d=a.props,e=d.localizer,f=d.getNow,g=a.slotMetrics.dateIsInGroup(f(),c);return l.createElement("span",{className:(0,n.Z)("rbc-label",g&&"rbc-now")},e.format(b,"timeGutterFormat"))};var g=a.props,i=g.min,j=g.max,k=g.timeslots,m=g.step,o=g.localizer,p=sb({min:i,max:j,localizer:o}),q=p.start,r=p.end;return a.slotMetrics=fb({min:q,max:r,timeslots:k,step:m,localizer:o}),a}return(0,i.Z)(c,[{key:"UNSAFE_componentWillReceiveProps",value:function(a){var b=a.min,c=a.max,d=a.localizer,f=sb({min:b,max:c,localizer:d}),g=f.start,h=f.end;this.slotMetrics=this.slotMetrics.update((0,e.Z)((0,e.Z)({},a),{},{min:g,max:h}))}},{key:"render",value:function(){var a=this,b=this.props,c=b.resource,d=b.components,e=b.getters;return l.createElement("div",{className:"rbc-time-gutter rbc-time-column"},this.slotMetrics.groups.map(function(b,f){return l.createElement(lb,{key:f,group:b,resource:c,components:d,renderSlot:a.renderSlot,getters:e})}))}}]),c}(l.Component),ub=function(a){var b=a.label;return l.createElement(l.Fragment,null,b)},vb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){var a;(0,h.Z)(this,c);for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b.call.apply(b,[this].concat(e))).handleHeaderClick=function(b,c,d){d.preventDefault(),aa(a.props.onDrillDown,[b,c])},a.renderRow=function(b){var c=a.props,d=c.events,e=c.rtl,f=c.selectable,g=c.getNow,h=c.range,i=c.getters,j=c.localizer,k=c.accessors,m=c.components,n=c.resizable,o=k.resourceId(b),p=b?d.filter(function(a){return k.resource(a)===o}):d;return l.createElement(_a,{isAllDay:!0,rtl:e,getNow:g,minRows:2,range:h,events:p,resourceId:o,className:"rbc-allday-cell",selectable:f,selected:a.props.selected,components:m,accessors:k,getters:i,localizer:j,onSelect:a.props.onSelectEvent,onDoubleClick:a.props.onDoubleClickEvent,onKeyPress:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:n})},a}return(0,i.Z)(c,[{key:"renderHeaderCells",value:function(a){var b=this,c=this.props,d=c.localizer,e=c.getDrilldownView,f=c.getNow,g=c.getters.dayProp,h=c.components.header,i=void 0===h?ab:h,j=f();return a.map(function(a,c){var f=e(a),h=d.format(a,"dayFormat"),k=g(a),m=k.className,o=k.style,p=l.createElement(i,{date:a,label:h,localizer:d});return l.createElement("div",{key:c,style:o,className:(0,n.Z)("rbc-header",m,d.isSameDate(a,j)&&"rbc-today")},f?l.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(c){return b.handleHeaderClick(a,f,c)}},p):l.createElement("span",null,p))})}},{key:"render",value:function(){var a=this,b=this.props,c=b.width,d=b.rtl,e=b.resources,f=b.range,g=b.events,h=b.getNow,i=b.accessors,j=b.selectable,k=b.components,m=b.getters,o=b.scrollRef,p=b.localizer,q=b.isOverflowing,r=b.components,s=r.timeGutterHeader,t=r.resourceHeader,u=void 0===t?ub:t,v=b.resizable,w={};q&&(w[d?"marginLeft":"marginRight"]="".concat((0,Q.Z)(),"px"));var x=e.groupEvents(g);return l.createElement("div",{style:w,ref:o,className:(0,n.Z)("rbc-time-header",q&&"rbc-overflowing")},l.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:c,minWidth:c,maxWidth:c}},s&&l.createElement(s,null)),e.map(function(b,c){var e=(0,N.Z)(b,2),g=e[0],n=e[1];return l.createElement("div",{className:"rbc-time-header-content",key:g||c},n&&l.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(c)},l.createElement("div",{className:"rbc-header"},l.createElement(u,{index:c,label:i.resourceTitle(n),resource:n}))),l.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(f.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(f)),l.createElement(_a,{isAllDay:!0,rtl:d,getNow:h,minRows:2,range:f,events:x.get(g)||[],resourceId:n&&g,className:"rbc-allday-cell",selectable:j,selected:a.props.selected,components:k,accessors:i,getters:m,localizer:p,onSelect:a.props.onSelectEvent,onDoubleClick:a.props.onDoubleClickEvent,onKeyPress:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:v}))}))}}]),c}(l.Component),wb={},xb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(a){var d;return(0,h.Z)(this,c),(d=b.call(this,a)).handleScroll=function(a){d.scrollRef.current&&(d.scrollRef.current.scrollLeft=a.target.scrollLeft)},d.handleResize=function(){z.a(d.rafHandle),d.rafHandle=z.W(d.checkOverflow)},d.gutterRef=function(a){d.gutter=a&&(0,w.findDOMNode)(a)},d.handleSelectAlldayEvent=function(){d.clearSelection();for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];aa(d.props.onSelectEvent,b)},d.handleSelectAllDaySlot=function(a,b){var c=d.props.onSelectSlot,e=new Date(a[0]),f=new Date(a[a.length-1]);f.setDate(a[a.length-1].getDate()+1),aa(c,{slots:a,start:e,end:f,action:b.action,resourceId:b.resourceId})},d.checkOverflow=function(){if(!d._updatingOverflow){var a=d.contentRef.current,b=a.scrollHeight>a.clientHeight;d.state.isOverflowing!==b&&(d._updatingOverflow=!0,d.setState({isOverflowing:b},function(){d._updatingOverflow=!1}))}},d.memoizedResources=(0,M.Z)(function(a,b){var c,d;return c=a,d=b,{map:function(a){return c?c.map(function(b,c){return a([d.resourceId(b),b],c)}):[a([wb,null],0)]},groupEvents:function(a){var b=new Map();return c?(a.forEach(function(a){var c=d.resource(a)||wb,e=b.get(c)||[];e.push(a),b.set(c,e)}),b):(b.set(wb,a),b)}}}),d.state={gutterWidth:void 0,isOverflowing:null},d.scrollRef=l.createRef(),d.contentRef=l.createRef(),d._scrollRatio=null,d}return(0,i.Z)(c,[{key:"UNSAFE_componentWillMount",value:function(){this.calculateScroll()}},{key:"componentDidMount",value:function(){this.checkOverflow(),null==this.props.width&&this.measureGutter(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),z.a(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){null==this.props.width&&this.measureGutter(),this.applyScroll()}},{key:"UNSAFE_componentWillReceiveProps",value:function(a){var b=this.props,c=b.range,d=b.scrollToTime,e=b.localizer;(e.neq(a.range[0],c[0],"minutes")||e.neq(a.scrollToTime,d,"minutes"))&&this.calculateScroll(a)}},{key:"renderEvents",value:function(a,b,c,d){var e=this,f=this.props,g=f.min,h=f.max,i=f.components,j=f.accessors,k=f.localizer,m=f.dayLayoutAlgorithm,n=this.memoizedResources(this.props.resources,j),o=n.groupEvents(b),p=n.groupEvents(c);return n.map(function(b,c){var f=(0,N.Z)(b,2),n=f[0],q=f[1];return a.map(function(a,b){var f=(o.get(n)||[]).filter(function(b){return k.inRange(a,j.start(b),j.end(b),"day")}),r=(p.get(n)||[]).filter(function(b){return k.inRange(a,j.start(b),j.end(b),"day")});return l.createElement(rb,Object.assign({},e.props,{localizer:k,min:k.merge(a,g),max:k.merge(a,h),resource:q&&n,components:i,isNow:k.isSameDate(a,d),key:c+"-"+b,date:a,events:f,backgroundEvents:r,dayLayoutAlgorithm:m}))})})}},{key:"render",value:function(){var a=this.props,b=a.events,c=a.backgroundEvents,d=a.range,e=a.width,f=a.rtl,g=a.selected,h=a.getNow,i=a.resources,j=a.components,k=a.accessors,m=a.getters,o=a.localizer,p=a.min,q=a.max,r=a.showMultiDayTimes,s=a.longPressThreshold,t=a.resizable;e=e||this.state.gutterWidth;var u=d[0],v=d[d.length-1];this.slots=d.length;var w=[],x=[],y=[];return b.forEach(function(a){if(Sa(a,u,v,k,o)){var b=k.start(a),c=k.end(a);k.allDay(a)||o.startAndEndAreDateOnly(b,c)|| !r&&!o.isSameDate(b,c)?w.push(a):x.push(a)}}),c.forEach(function(a){Sa(a,u,v,k,o)&&y.push(a)}),w.sort(function(a,b){return Ua(a,b,k,o)}),l.createElement("div",{className:(0,n.Z)("rbc-time-view",i&&"rbc-time-view-resources")},l.createElement(vb,{range:d,events:w,width:e,rtl:f,getNow:h,localizer:o,selected:g,resources:this.memoizedResources(i,k),selectable:this.props.selectable,accessors:k,getters:m,components:j,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:s,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectAlldayEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:t}),l.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},l.createElement(tb,{date:u,ref:this.gutterRef,localizer:o,min:o.merge(u,p),max:o.merge(u,q),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:j,className:"rbc-time-gutter",getters:m}),this.renderEvents(d,x,y,h())))}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var b=(0,P.Z)(a.gutter);b&&a.state.gutterWidth!==b&&a.setState({gutterWidth:b})})}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&& !0===this.props.enableAutoScroll){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:this.props,b=a.min,c=a.max,d=a.scrollToTime,e=a.localizer,f=d-e.startOf(d,"day"),g=e.diff(b,c,"milliseconds");this._scrollRatio=f/g}}]),c}(l.Component);xb.defaultProps={step:30,timeslots:2};var yb=["date","localizer","min","max","scrollToTime","enableAutoScroll"],zb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){return(0,h.Z)(this,c),b.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var a=this.props,b=a.date,d=a.localizer,e=a.min,g=void 0===e?d.startOf(new Date(),"day"):e,h=a.max,i=void 0===h?d.endOf(new Date(),"day"):h,j=a.scrollToTime,k=void 0===j?d.startOf(new Date(),"day"):j,m=a.enableAutoScroll,n=(0,f.Z)(a,yb),o=c.range(b,{localizer:d});return l.createElement(xb,Object.assign({},n,{range:o,eventOffset:10,localizer:d,min:g,max:i,scrollToTime:k,enableAutoScroll:void 0===m||m}))}}]),c}(l.Component);zb.range=function(a,b){return[b.localizer.startOf(a,"day")]},zb.navigate=function(a,b,c){var d=c.localizer;switch(b){case Z.PREVIOUS:return d.add(a,-1,"day");case Z.NEXT:return d.add(a,1,"day");default:return a}},zb.title=function(a,b){return b.localizer.format(a,"dayHeaderFormat")};var Ab=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Bb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){return(0,h.Z)(this,c),b.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var a=this.props,b=a.date,d=a.localizer,e=a.min,g=void 0===e?d.startOf(new Date(),"day"):e,h=a.max,i=void 0===h?d.endOf(new Date(),"day"):h,j=a.scrollToTime,k=void 0===j?d.startOf(new Date(),"day"):j,m=a.enableAutoScroll,n=(0,f.Z)(a,Ab),o=c.range(b,this.props);return l.createElement(xb,Object.assign({},n,{range:o,eventOffset:15,localizer:d,min:g,max:i,scrollToTime:k,enableAutoScroll:void 0===m||m}))}}]),c}(l.Component);Bb.defaultProps=xb.defaultProps,Bb.navigate=function(a,b,c){var d=c.localizer;switch(b){case Z.PREVIOUS:return d.add(a,-1,"week");case Z.NEXT:return d.add(a,1,"week");default:return a}},Bb.range=function(a,b){var c=b.localizer,d=c.startOfWeek(),e=c.startOf(a,"week",d),f=c.endOf(a,"week",d);return c.range(e,f)},Bb.title=function(a,b){var c=b.localizer,d=Bb.range(a,{localizer:c}),e=(0,R.Z)(d),f=e[0],g=e.slice(1);return c.format({start:f,end:g.pop()},"dayRangeHeaderFormat")};var Cb=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Db(a,b){return Bb.range(a,b).filter(function(a){return -1===[6,0].indexOf(a.getDay())})}var Eb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){return(0,h.Z)(this,c),b.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var a=this.props,b=a.date,c=a.localizer,d=a.min,e=void 0===d?c.startOf(new Date(),"day"):d,g=a.max,h=void 0===g?c.endOf(new Date(),"day"):g,i=a.scrollToTime,j=void 0===i?c.startOf(new Date(),"day"):i,k=a.enableAutoScroll,m=(0,f.Z)(a,Cb),n=Db(b,this.props);return l.createElement(xb,Object.assign({},m,{range:n,eventOffset:15,localizer:c,min:e,max:h,scrollToTime:j,enableAutoScroll:void 0===k||k}))}}]),c}(l.Component);function Fb(a){var b=a.accessors,c=a.components,d=a.date,e=a.events,f=a.getters,g=a.length,h=a.localizer,i=a.onDoubleClickEvent,j=a.onSelectEvent,k=a.selected,m=(0,l.useRef)(null),n=(0,l.useRef)(null),o=(0,l.useRef)(null),p=(0,l.useRef)(null),q=(0,l.useRef)(null);(0,l.useEffect)(function(){t()});var r=function(a,d,e){var g=c.event,m=c.date;return(d=d.filter(function(c){return Sa(c,h.startOf(a,"day"),h.endOf(a,"day"),b,h)})).map(function(c,n){var o=b.title(c),p=b.end(c),q=b.start(c),r=f.eventProp(c,q,p,Aa(c,k)),t=0===n&&h.format(a,"agendaDateFormat"),u=0===n&&l.createElement("td",{rowSpan:d.length,className:"rbc-agenda-date-cell"},m?l.createElement(m,{day:a,label:t}):t);return l.createElement("tr",{key:e+"_"+n,className:r.className,style:r.style},u,l.createElement("td",{className:"rbc-agenda-time-cell"},s(a,c)),l.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(a){return j&&j(c,a)},onDoubleClick:function(a){return i&&i(c,a)}},g?l.createElement(g,{event:c,title:o}):o))},[])},s=function(a,d){var e="",f=c.time,g=h.messages.allDay,i=b.end(d),j=b.start(d);return!b.allDay(d)&&(h.eq(j,i)?g=h.format(j,"agendaTimeFormat"):h.isSameDate(j,i)?g=h.format({start:j,end:i},"agendaTimeRangeFormat"):h.isSameDate(a,j)?g=h.format(j,"agendaTimeFormat"):h.isSameDate(a,i)&&(g=h.format(i,"agendaTimeFormat"))),h.gt(a,j,"day")&&(e="rbc-continues-prior"),h.lt(a,i,"day")&&(e+=" rbc-continues-after"),l.createElement("span",{className:e.trim()},f?l.createElement(f,{event:d,day:a,label:g}):g)},t=function(){if(q.current){var a=m.current,b=q.current.firstChild;if(b){var c=p.current.scrollHeight>p.current.clientHeight,d=[],e=d;d=[(0,P.Z)(b.children[0]),(0,P.Z)(b.children[1])],(e[0]!==d[0]||e[1]!==d[1])&&(n.current.style.width=d[0]+"px",o.current.style.width=d[1]+"px"),c?((0,S.Z)(a,"rbc-header-overflowing"),a.style.marginRight=(0,Q.Z)()+"px"):(0,T.Z)(a,"rbc-header-overflowing")}}},u=h.messages,v=h.add(d,g,"day"),w=h.range(d,v,"day");return(e=e.filter(function(a){return Sa(a,h.startOf(d,"day"),h.endOf(v,"day"),b,h)})).sort(function(a,c){return+b.start(a)- +b.start(c)}),l.createElement("div",{className:"rbc-agenda-view"},0!==e.length?l.createElement(l.Fragment,null,l.createElement("table",{ref:m,className:"rbc-agenda-table"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{className:"rbc-header",ref:n},u.date),l.createElement("th",{className:"rbc-header",ref:o},u.time),l.createElement("th",{className:"rbc-header"},u.event)))),l.createElement("div",{className:"rbc-agenda-content",ref:p},l.createElement("table",{className:"rbc-agenda-table"},l.createElement("tbody",{ref:q},w.map(function(a,b){return r(a,e,b)}))))):l.createElement("span",{className:"rbc-agenda-empty"},u.noEventsInRange))}Eb.defaultProps=xb.defaultProps,Eb.range=Db,Eb.navigate=Bb.navigate,Eb.title=function(a,b){var c=b.localizer,d=Db(a,{localizer:c}),e=(0,R.Z)(d),f=e[0],g=e.slice(1);return c.format({start:f,end:g.pop()},"dayRangeHeaderFormat")},Fb.defaultProps={length:30},Fb.range=function(a,b){var c=b.length,d=void 0===c?Fb.defaultProps.length:c,e=b.localizer.add(a,d,"day");return{start:a,end:e}},Fb.navigate=function(a,b,c){var d=c.length,e=void 0===d?Fb.defaultProps.length:d,f=c.localizer;switch(b){case Z.PREVIOUS:return f.add(a,-e,"day");case Z.NEXT:return f.add(a,e,"day");default:return a}},Fb.title=function(a,b){var c=b.length,d=void 0===c?Fb.defaultProps.length:c,e=b.localizer,f=e.add(a,d,"day");return e.format({start:a,end:f},"agendaHeaderFormat")};var Gb=(d={},(0,t.Z)(d,$.MONTH,db),(0,t.Z)(d,$.WEEK,Bb),(0,t.Z)(d,$.WORK_WEEK,Eb),(0,t.Z)(d,$.DAY,zb),(0,t.Z)(d,$.AGENDA,Fb),d),Hb=["action","date","today"],Ib=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){var a;(0,h.Z)(this,c);for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b.call.apply(b,[this].concat(e))).navigate=function(b){a.props.onNavigate(b)},a.view=function(b){a.props.onView(b)},a}return(0,i.Z)(c,[{key:"render",value:function(){var a=this.props,b=a.localizer.messages,c=a.label;return l.createElement("div",{className:"rbc-toolbar"},l.createElement("span",{className:"rbc-btn-group"},l.createElement("button",{type:"button",onClick:this.navigate.bind(null,Z.TODAY)},b.today),l.createElement("button",{type:"button",onClick:this.navigate.bind(null,Z.PREVIOUS)},b.previous),l.createElement("button",{type:"button",onClick:this.navigate.bind(null,Z.NEXT)},b.next)),l.createElement("span",{className:"rbc-toolbar-label"},c),l.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(b)))}},{key:"viewNamesGroup",value:function(a){var b=this,c=this.props.views,d=this.props.view;if(c.length>1)return c.map(function(c){return l.createElement("button",{type:"button",key:c,className:(0,n.Z)({"rbc-active":d===c}),onClick:b.view.bind(null,c)},a[c])})}}]),c}(l.Component),Jb=function(a){return function(b){var c,d,e;return c=b,e=null,"function"==typeof(d=a)?e=d(c):"string"==typeof d&&"object"===(0,g.Z)(c)&&null!=c&&d in c&&(e=c[d]),e}},Kb=["view","date","getNow","onNavigate"],Lb=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Mb(a){return Array.isArray(a)?a:Object.keys(a)}var Nb=function(a){(0,j.Z)(c,a);var b=(0,k.Z)(c);function c(){var a;(0,h.Z)(this,c);for(var d=arguments.length,i=new Array(d),j=0;j<d;j++)i[j]=arguments[j];return(a=b.call.apply(b,[this].concat(i))).getViews=function(){var b=a.props.views;return Array.isArray(b)?(0,W.Z)(b,function(a,b){return a[b]=Gb[b]},{}):"object"===(0,g.Z)(b)?(0,X.Z)(b,function(a,b){return!0===a?Gb[b]:a}):Gb},a.getView=function(){return a.getViews()[a.props.view]},a.getDrilldownView=function(b){var c=a.props,d=c.view,e=c.drilldownView,f=c.getDrilldownView;return f?f(b,d,Object.keys(a.getViews())):e},a.handleRangeChange=function(b,c,d){var e=a.props,f=e.onRangeChange,g=e.localizer;f&&c.range&&f(c.range(b,{localizer:g}),d)},a.handleNavigate=function(b,c){var d=a.props,g=d.view,h=d.date,i=d.getNow,j=d.onNavigate,k=(0,f.Z)(d,Kb),l=a.getView(),m=i();j(h=function(a,b){var c=b.action,d=b.date,e=b.today,g=(0,f.Z)(b,Hb);switch(a="string"==typeof a?Gb[a]:a,c){case Z.TODAY:d=e||new Date();break;case Z.DATE:break;default:r()(a&&"function"==typeof a.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),d=a.navigate(d,c,g)}return d}(l,(0,e.Z)((0,e.Z)({},k),{},{action:b,date:c||h||m,today:m})),g,b),a.handleRangeChange(h,l)},a.handleViewChange=function(b){b!==a.props.view&&(c=b,-1!==Mb(a.props.views).indexOf(c))&&a.props.onView(b);var c,d=a.getViews();a.handleRangeChange(a.props.date||a.props.getNow(),d[b],b)},a.handleSelectEvent=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onSelectEvent,c)},a.handleDoubleClickEvent=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onDoubleClickEvent,c)},a.handleKeyPressEvent=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];aa(a.props.onKeyPressEvent,c)},a.handleSelectSlot=function(b){aa(a.props.onSelectSlot,b)},a.handleDrillDown=function(b,c){var d=a.props.onDrillDown;if(d){d(b,c,a.drilldownView);return}c&&a.handleViewChange(c),a.handleNavigate(Z.DATE,b)},a.state={context:a.getContext(a.props)},a}return(0,i.Z)(c,[{key:"UNSAFE_componentWillReceiveProps",value:function(a){this.setState({context:this.getContext(a)})}},{key:"getContext",value:function(a){var b,c,d,f,g,h,i=a.startAccessor,j=a.endAccessor,k=a.allDayAccessor,l=a.tooltipAccessor,m=a.titleAccessor,n=a.resourceAccessor,o=a.resourceIdAccessor,p=a.resourceTitleAccessor,q=a.eventPropGetter,r=a.backgroundEventPropGetter,s=a.slotPropGetter,t=a.slotGroupPropGetter,u=a.dayPropGetter,v=a.view,w=a.views,x=a.localizer,y=a.culture,z=a.messages,A=a.components,B=void 0===A?{}:A,C=a.formats,D=Mb(w),E=(b=void 0===z?{}:z,(0,e.Z)((0,e.Z)({},xa),b));return{viewNames:D,localizer:(c=x,d=y,f=void 0===C?{}:C,g=E,h=(0,e.Z)((0,e.Z)({},c.formats),f),(0,e.Z)((0,e.Z)({},c),{},{messages:g,startOfWeek:function(){return c.startOfWeek(d)},format:function(a,b){return c.format(a,h[b]||b,d)}})),getters:{eventProp:function(){return q&&q.apply(void 0,arguments)||{}},backgroundEventProp:function(){return r&&r.apply(void 0,arguments)||{}},slotProp:function(){return s&&s.apply(void 0,arguments)||{}},slotGroupProp:function(){return t&&t.apply(void 0,arguments)||{}},dayProp:function(){return u&&u.apply(void 0,arguments)||{}}},components:(0,V.Z)(B[v]||{},(0,U.Z)(B,D),{eventWrapper:Y,backgroundEventWrapper:Y,eventContainerWrapper:Y,dateCellWrapper:Y,weekWrapper:Y,timeSlotWrapper:Y}),accessors:{start:Jb(i),end:Jb(j),allDay:Jb(k),tooltip:Jb(l),title:Jb(m),resource:Jb(n),resourceId:Jb(o),resourceTitle:Jb(p)}}}},{key:"render",value:function(){var a=this.props,b=a.view,c=a.toolbar,d=a.events,e=a.backgroundEvents,g=void 0===e?[]:e,h=a.style,i=a.className,j=a.elementProps,k=a.date,m=a.getNow,o=a.length,p=a.showMultiDayTimes,q=a.onShowMore,r=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var s=(0,f.Z)(a,Lb);k=k||m();var t=this.getView(),u=this.state.context,v=u.accessors,w=u.components,x=u.getters,y=u.localizer,z=u.viewNames,A=w.toolbar||Ib,B=t.title(k,{localizer:y,length:o});return l.createElement("div",Object.assign({},j,{className:(0,n.Z)(i,"rbc-calendar",s.rtl&&"rbc-rtl"),style:h}),c&&l.createElement(A,{date:k,view:b,views:z,label:B,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:y}),l.createElement(t,Object.assign({},s,{events:d,backgroundEvents:g,date:k,getNow:m,length:o,localizer:y,getters:x,components:w,accessors:v,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:q,doShowMoreDrillDown:r})))}}]),c}(l.Component);Nb.defaultProps={elementProps:{},popup:!1,toolbar:!0,view:$.MONTH,views:[$.MONTH,$.WEEK,$.DAY,$.AGENDA],step:30,length:30,doShowMoreDrillDown:!0,drilldownView:$.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date()},dayLayoutAlgorithm:"overlap"};var Ob=(0,m.nm)(Nb,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Pb=function(a,b,c){var d=a.start,e=a.end;return"".concat(c.format(d,"p",b),"  ").concat(c.format(e,"p",b))},Qb={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"cccc",selectRangeFormat:Pb,eventTimeRangeFormat:Pb,eventTimeRangeStartFormat:function(a,b,c){var d=a.start;return"".concat(c.format(d,"h:mma",b),"  ")},eventTimeRangeEndFormat:function(a,b,c){var d=a.end;return"  ".concat(c.format(d,"h:mma",b))},timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:function(a,b,c){var d=a.start,e=a.end;return"".concat(c.format(d,"MMMM dd",b),"  ").concat(c.format(e,(0,s.eq)(d,e,"month")?"dd":"MMMM dd",b))},agendaHeaderFormat:function(a,b,c){var d=a.start,e=a.end;return"".concat(c.format(d,"P",b),"  ").concat(c.format(e,"P",b))},agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:Pb},Rb=function(a){var b=a.startOfWeek,c=a.getDay,d=a.format,e=a.locales;return new wa({formats:Qb,firstOfWeek:function(a){return c(b(new Date(),{locale:e[a]}))},format:function(a,b,c){return d(new Date(a),b,{locale:e[c]})}})}}}])